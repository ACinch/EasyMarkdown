@tailwind base;
@tailwind components;
@tailwind utilities;

/* App drag region for title bar */
.app-drag {
  -webkit-app-region: drag;
}

/* Command bar button styles */
.cmd-btn {
  @apply px-2 py-1 rounded text-gray-300 hover:bg-toolbar-hover hover:text-white transition-colors text-sm font-medium;
}

.cmd-btn:active {
  @apply bg-gray-600;
}

/* Tab styles */
.tab {
  @apply flex items-center gap-2 px-4 py-2 bg-tab-bg border-r border-tab-border text-gray-400 hover:bg-tab-hover cursor-pointer max-w-48 min-w-0;
}

.tab.active {
  @apply bg-tab-active text-white;
}

.tab-title {
  @apply truncate text-sm;
}

.tab-close {
  @apply opacity-0 hover:opacity-100 text-gray-500 hover:text-white rounded p-0.5 transition-opacity;
}

.tab:hover .tab-close,
.tab.active .tab-close {
  @apply opacity-100;
}

.tab-dirty {
  @apply w-2 h-2 rounded-full bg-blue-400 flex-shrink-0;
}

/* Editor styles */
#editor {
  tab-size: 4;
  line-height: 1.6;
}

#editor::placeholder {
  @apply text-gray-600;
}

/* Scrollbar styles */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500;
}

/* Preview prose styles */
.prose {
  @apply text-gray-800;
}

.prose h1 {
  @apply text-3xl font-bold mb-4 pb-2 border-b border-gray-200;
}

.prose h2 {
  @apply text-2xl font-bold mb-3 pb-1 border-b border-gray-100;
}

.prose h3 {
  @apply text-xl font-semibold mb-2;
}

.prose h4 {
  @apply text-lg font-semibold mb-2;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose a {
  @apply text-blue-600 hover:underline;
}

.prose ul,
.prose ol {
  @apply mb-4 pl-6;
}

.prose ul {
  @apply list-disc;
}

.prose ol {
  @apply list-decimal;
}

.prose li {
  @apply mb-1;
}

.prose blockquote {
  @apply border-l-4 border-gray-300 pl-4 italic text-gray-600 my-4;
}

.prose code {
  @apply bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800;
}

.prose pre {
  @apply bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto my-4;
}

.prose pre code {
  @apply bg-transparent p-0 text-inherit;
}

.prose img {
  @apply max-w-full h-auto rounded my-4;
}

.prose hr {
  @apply border-gray-200 my-8;
}

.prose table {
  @apply w-full border-collapse mb-4;
}

.prose th,
.prose td {
  @apply border border-gray-300 px-3 py-2 text-left;
}

.prose th {
  @apply bg-gray-50 font-semibold;
}

/* Highlight.js overrides for code blocks */
.hljs {
  @apply bg-transparent;
}

/* Milkdown WYSIWYG editor styles */
#preview .milkdown {
  @apply h-full;
}

#preview .editor {
  @apply h-full outline-none;
}

#preview .ProseMirror {
  @apply h-full outline-none;
}

#preview .ProseMirror:focus {
  @apply outline-none;
}

/* Make the preview container fill available space when Milkdown is active */
#preview-container:not(.hidden) #preview {
  @apply h-full;
}

/* Dark mode for preview */
#preview-container.dark-mode {
  @apply bg-gray-900 text-gray-100;
}

#preview-container.dark-mode .prose {
  @apply text-gray-100;
}

#preview-container.dark-mode .prose h1 {
  @apply border-b-gray-700;
}

#preview-container.dark-mode .prose h2 {
  @apply border-b-gray-800;
}

#preview-container.dark-mode .prose a {
  @apply text-blue-400;
}

#preview-container.dark-mode .prose blockquote {
  @apply border-gray-600 text-gray-400;
}

#preview-container.dark-mode .prose code {
  @apply bg-gray-800 text-gray-200;
}

#preview-container.dark-mode .prose pre {
  @apply bg-gray-950;
}

#preview-container.dark-mode .prose hr {
  @apply border-gray-700;
}

#preview-container.dark-mode .prose th,
#preview-container.dark-mode .prose td {
  @apply border-gray-600;
}

#preview-container.dark-mode .prose th {
  @apply bg-gray-800;
}

/* Dark mode toggle button active state */
.cmd-btn.dark-mode-active {
  @apply bg-gray-600 text-white;
}
